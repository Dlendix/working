# üß† –ö–∞–∫ –¥—É–º–∞—Ç—å –ø—Ä–∏ —Ä–µ—à–µ–Ω–∏–∏ –æ–ª–∏–º–ø–∏–∞–¥–Ω—ã—Ö –∑–∞–¥–∞—á –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Ä–∞–∑–≤–∏—Ç—å **–∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ** –∏ –Ω–∞—É—á–∏—Ç —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É –ø–æ–¥—Ö–æ–¥—É –∫ —Ä–µ—à–µ–Ω–∏—é —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á —Å –í—Å–û–®, Codeforces, LeetCode –∏ –¥—Ä—É–≥–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º. –ó–¥–µ—Å—å –Ω–µ—Ç –º–∞–≥–∏–∏ ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è.

## üéØ –®–∞–≥ 1: –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —É—Å–ª–æ–≤–∏—è –∑–∞–¥–∞—á–∏

### üîç –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
- **–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ —É—Å–ª–æ–≤–∏–µ 2-3 —Ä–∞–∑–∞**. –í—ã–¥–µ–ª–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã —Ü–≤–µ—Ç–æ–º –∏–ª–∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ–º.
- **–ó–∞–ø–∏—à–∏—Ç–µ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ:**
  ```python
  # –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
  #  ‚Ä¢ n = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (1 ‚â§ n ‚â§ 10^5)
  #  ‚Ä¢ –º–∞—Å—Å–∏–≤ a[1..n] (|a[i]| ‚â§ 10^9)
  #  ‚Ä¢ q –∑–∞–ø—Ä–æ—Å–æ–≤ (1 ‚â§ q ‚â§ 10^5)
  # 
  # –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
  #  ‚Ä¢ –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ [l, r] –≤—ã–≤–µ—Å—Ç–∏ max(a[l..r])
  #
  # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
  #  ‚Ä¢ –í—Ä–µ–º—è: 2 —Å–µ–∫—É–Ω–¥—ã
  #  ‚Ä¢ –ü–∞–º—è—Ç—å: 256 –ú–ë
  ```

### üí° –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:
> –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –∏–∑-–∑–∞ –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —É—Å–ª–æ–≤–∏—è. –ï—Å–ª–∏ –≤—ã –ø–æ—Ç—Ä–∞—Ç–∏—Ç–µ 5 –º–∏–Ω—É—Ç –Ω–∞ –∞–Ω–∞–ª–∏–∑ –≤–º–µ—Å—Ç–æ –ø–æ—Å–ø–µ—à–Ω–æ–≥–æ –∫–æ–¥–∏–Ω–≥–∞, –≤—ã —Å—ç–∫–æ–Ω–æ–º–∏—Ç–µ 30 –º–∏–Ω—É—Ç –æ—Ç–ª–∞–¥–∫–∏.

### üìù –ü—Ä–∏–º–µ—Ä –∏–∑ –∂–∏–∑–Ω–∏:
**–ó–∞–¥–∞—á–∞:** "–ù–∞–π—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä –∏–Ω–¥–µ–∫—Å–æ–≤ (i, j), i < j, —Ç–∞–∫–∏—Ö —á—Ç–æ a[i] + a[j] = k"

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:** –°—Ä–∞–∑—É –ø–∏—Å–∞—Ç—å –¥–≤–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ü–∏–∫–ª–∞ O(n¬≤)

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑:**
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: n ‚â§ 10‚Åµ ‚Üí O(n¬≤) –Ω–µ –ø—Ä–æ–π–¥–µ—Ç
- –ù—É–∂–µ–Ω O(n log n) –∏–ª–∏ O(n)
- –ü–æ–¥—É–º–∞—Ç—å –æ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞—Ö –∏–ª–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ + –¥–≤—É—Ö —É–∫–∞–∑–∞—Ç–µ–ª—è—Ö

## üß© –®–∞–≥ 2: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–¥–∞—á–∏

### üìä –¢–∞–±–ª–∏—Ü–∞ —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á –∏ –ø–æ–¥—Ö–æ–¥–æ–≤:

| –¢–∏–ø –∑–∞–¥–∞—á–∏ | –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ —É—Å–ª–æ–≤–∏–∏ | –ê–ª–≥–æ—Ä–∏—Ç–º—ã/—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|------------|--------------------------|----------------------------|-----------|
| **–ú–∞—Å—Å–∏–≤—ã/–°—Ç—Ä–æ–∫–∏** | "–Ω–∞–π—Ç–∏ –ø–æ–¥–º–∞—Å—Å–∏–≤", "–ø–æ–¥—Å—Ç—Ä–æ–∫–∞", "—Å–∏–º–≤–æ–ª—ã" | –î–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è, —Å–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ, –ø—Ä–µ—Ñ–∏–∫—Å–Ω—ã–µ —Å—É–º–º—ã, KMP | O(n), O(n log n) |
| **–î–µ—Ä–µ–≤—å—è** | "–∏–µ—Ä–∞—Ä—Ö–∏—è", "—Ä–æ–¥–∏—Ç–µ–ª—å", "–ø–æ—Ç–æ–º–∫–∏", "–∫–æ—Ä–µ–Ω—å" | DFS, BFS, LCA, –î–ü –ø–æ –¥–µ—Ä–µ–≤—É, Heavy-Light Decomposition | O(n), O(n log n) |
| **–ì—Ä–∞—Ñ—ã** | "–¥–æ—Ä–æ–≥–∏", "—Å–≤—è–∑–∏", "–∫—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å", "–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å–≤—è–∑–Ω–æ—Å—Ç–∏" | DFS/BFS, –î–µ–π–∫—Å—Ç—Ä–∞, –§–æ—Ä–¥-–ë–µ–ª–ª–º–∞–Ω, MST, —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ | O(n + m), O(m log n) |
| **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** | "–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞", "–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ", "–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±" | 1D/2D –î–ü, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (—Ä–∞–∑–¥–µ–ª—è–π –∏ –≤–ª–∞—Å—Ç–≤—É–π, convex hull trick) | O(n), O(n¬≤), O(n log n) |
| **–ó–∞–ø—Ä–æ—Å—ã/–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö** | "–∑–∞–ø—Ä–æ—Å—ã", "–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ", "–¥–∏–∞–ø–∞–∑–æ–Ω" | –î–µ—Ä–µ–≤–æ –æ—Ç—Ä–µ–∑–∫–æ–≤, Fenwick tree, sqrt-–¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è, Mo's algorithm | O(log n), O(‚àön) |
| **–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞** | "–¥–µ–ª–µ–Ω–∏–µ", "–ù–û–î/–ù–û–ö", "–ø—Ä–æ—Å—Ç—ã–µ —á–∏—Å–ª–∞", "–∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–∞" | –†–µ—à–µ—Ç–æ –≠—Ä–∞—Ç–æ—Å—Ñ–µ–Ω–∞, –∞–ª–≥–æ—Ä–∏—Ç–º –ï–≤–∫–ª–∏–¥–∞, –±—ã—Å—Ç—Ä–æ–µ –≤–æ–∑–≤–µ–¥–µ–Ω–∏–µ –≤ —Å—Ç–µ–ø–µ–Ω—å | O(n log log n), O(log n) |
| **–ì–µ–æ–º–µ—Ç—Ä–∏—è** | "—Ç–æ—á–∫–∏ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏", "–ø–ª–æ—â–∞–¥—å", "–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ" | –í–µ–∫—Ç–æ—Ä–Ω–∞—è –∞–ª–≥–µ–±—Ä–∞, –≤—ã–ø—É–∫–ª–∞—è –æ–±–æ–ª–æ—á–∫–∞, –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –æ—Ç—Ä–µ–∑–∫–æ–≤ | O(n log n) |

### üß† –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø:
1. **–ò—â–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞** –≤ —É—Å–ª–æ–≤–∏–∏
2. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
   - n ‚â§ 1000 ‚Üí –º–æ–∂–Ω–æ O(n¬≤)
   - n ‚â§ 10‚Åµ ‚Üí –Ω—É–∂–µ–Ω O(n log n) –∏–ª–∏ O(n)
   - n ‚â§ 10‚Å∂ ‚Üí –Ω—É–∂–µ–Ω O(n) –∏–ª–∏ O(n Œ±(n))
3. **–°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä—ã:** —á–∞—Å—Ç–æ –æ–Ω–∏ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞—é—Ç –∏–¥–µ—é —Ä–µ—à–µ–Ω–∏—è

## üí° –®–∞–≥ 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π –∏ –≤—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥–∞

### üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–¥–µ–π:

1. **–ù–∞—á–Ω–∏—Ç–µ —Å –Ω–∞–∏–≤–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è:**
   ```cpp
   // –î–ª—è –∑–∞–¥–∞—á–∏ –æ –ø–∞—Ä–∞—Ö —Å —Å—É–º–º–æ–π = k
   for (int i = 0; i < n; i++) {
       for (int j = i + 1; j < n; j++) {
           if (a[i] + a[j] == k) count++;
       }
   }
   // –°–ª–æ–∂–Ω–æ—Å—Ç—å: O(n¬≤) ‚Üí –Ω–µ –ø—Ä–æ–π–¥–µ—Ç –ø—Ä–∏ n=10‚Åµ
   ```

2. **–ó–∞–¥–∞–π—Ç–µ —Å–µ–±–µ –≤–æ–ø—Ä–æ—Å—ã:**
   - –ö–∞–∫ –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ?
   - –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞?
   - –ú–æ–∂–Ω–æ –ª–∏ —Ä–∞–∑–±–∏—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏?
   - –ï—Å—Ç—å –ª–∏ –ø–æ–¥–æ–±–Ω—ã–µ –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ —è —Ä–µ—à–∞–ª —Ä–∞–Ω—å—à–µ?

3. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –º—ã—à–ª–µ–Ω–∏—è:**
   - **"–†–∞–∑–¥–µ–ª—è–π –∏ –≤–ª–∞—Å—Ç–≤—É–π"**: –º–æ–∂–Ω–æ –ª–∏ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —á–∞—Å—Ç–∏?
   - **"–ñ–∞–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥"**: –≤—Å–µ–≥–¥–∞ –ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –≤–µ–¥–µ—Ç –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–º—É?
   - **"–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"**: –µ—Å—Ç—å –ª–∏ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –ø–æ–¥–∑–∞–¥–∞—á–∏?
   - **"–î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞"**: –Ω—É–∂–Ω–æ –ª–∏ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö?

### üéØ –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –¥–ª—è –∑–∞–¥–∞—á–∏ –æ –ø–∞—Ä–∞—Ö:

**–ó–∞–¥–∞—á–∞:** –ù–∞–π—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä (i, j), i < j, a[i] + a[j] = k, n ‚â§ 10‚Åµ

**–•–æ–¥ –º—ã—Å–ª–µ–π:**
1. –ù–∞–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ O(n¬≤) –Ω–µ –ø—Ä–æ–π–¥–µ—Ç –¥–ª—è n=10‚Åµ
2. –ù—É–∂–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É "–µ—Å—Ç—å –ª–∏ —á–∏—Å–ª–æ (k - a[i]) –≤ –º–∞—Å—Å–∏–≤–µ?"
3. –•–µ—à-—Ç–∞–±–ª–∏—Ü–∞ –¥–∞–µ—Ç O(1) –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
4. –ú–æ–∂–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–æ –º–∞—Å—Å–∏–≤—É –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –µ—Å—Ç—å –ª–∏ –≤ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–µ (k - current)
5. –ù–æ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ –ø–∞—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å i < j ‚Üí –¥–æ–±–∞–≤–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Ç–∞–±–ª–∏—Ü—É –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
6. **–ò—Ç–æ–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º:**
   ```python
   count = 0
   seen = {}
   for x in array:
       if (k - x) in seen:
           count += seen[k - x]
       seen[x] = seen.get(x, 0) + 1
   ```

## ‚öôÔ∏è –®–∞–≥ 4: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è

### üìê –ü–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–¥–∞ –ø—Ä–æ–¥—É–º–∞–π—Ç–µ:

1. **–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö:**
   ```cpp
   // –î–ª—è –∑–∞–¥–∞—á–∏ —Å –¥–∏–∞–ø–∞–∑–æ–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
   struct SegmentTree {
       vector<ll> tree;
       int size;
       
       void build(const vector<ll>& arr) { ... }
       void update(int idx, ll value) { ... }
       ll query(int l, int r) { ... }
   };
   ```

2. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ñ—É–Ω–∫—Ü–∏–π:**
   ```cpp
   // –ß–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, —á—Ç–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è
   ll solve_subproblem(const vector<int>& data, int param) {
       // –õ–æ–≥–∏–∫–∞ —Ä–µ—à–µ–Ω–∏—è –ø–æ–¥–∑–∞–¥–∞—á–∏
       return result;
   }
   ```

3. **–ö—Ä–∞–µ–≤—ã–µ —Å–ª—É—á–∞–∏:**
   - –ü—É—Å—Ç—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
   - –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
   - –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞
   - –¶–∏–∫–ª—ã –≤ –≥—Ä–∞—Ñ–∞—Ö
   - –î–µ—Ä–µ–≤–æ –∏–∑ –æ–¥–Ω–æ–π –≤–µ—Ä—à–∏–Ω—ã

4. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –ø–∞–º—è—Ç–∏:**
   ```
   –í—Ä–µ–º—è: O(n log n) –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ + O(q log n) –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ = O((n + q) log n)
   –ü–∞–º—è—Ç—å: O(n) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–∞ + O(n) –¥–ª—è –¥–µ—Ä–µ–≤–∞ –æ—Ç—Ä–µ–∑–∫–æ–≤ = O(n)
   ```

### üß™ –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

### üîß –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. **–°–æ–∑–¥–∞–π—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
   ```
   –í—Ö–æ–¥: n=1, a=[5], k=10
   –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã—Ö–æ–¥: 0 (–Ω–µ—Ç –ø–∞—Ä)
   
   –í—Ö–æ–¥: n=2, a=[3, 7], k=10
   –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã—Ö–æ–¥: 1
   ```

2. **–¢–µ—Å—Ç—ã –Ω–∞ –∫—Ä–∞–µ–≤—ã–µ —Å–ª—É—á–∞–∏:**
   ```
   –í—Ö–æ–¥: n=10‚Åµ, –≤—Å–µ a[i]=0, k=0
   –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã—Ö–æ–¥: C(10‚Åµ, 2) = 4999950000
   
   –í—Ö–æ–¥: n=10‚Åµ, a[i]=i, k=10‚Åπ
   –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã—Ö–æ–¥: 0 (–Ω–µ—Ç —Ç–∞–∫–∏—Ö –ø–∞—Ä)
   ```

3. **–¢–µ—Å—Ç—ã –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç
   - –ó–∞–º–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –ï—Å–ª–∏ –Ω–µ —É–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –ª–∏–º–∏—Ç—ã ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ

### üêõ –¢–µ—Ö–Ω–∏–∫–∏ –æ—Ç–ª–∞–¥–∫–∏:
- **–í—ã–≤–æ–¥ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** (–Ω–æ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–¥ —Å–¥–∞—á–µ–π!)
- **–ê—Å—Å–µ—Ä—Ç—ã** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
  ```cpp
  assert(l <= r); // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
  assert(dp[i] >= 0); // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  ```
- **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** –¥–ª—è –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á –∏–ª–∏ –≥—Ä–∞—Ñ–æ–≤

## üöÄ –®–∞–≥ 6: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### ‚ö° –ö–æ–≥–¥–∞ –∏ —á—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

| –ü—Ä–æ–±–ª–µ–º–∞ | –°–∏–º–ø—Ç–æ–º—ã | –†–µ—à–µ–Ω–∏–µ |
|----------|----------|---------|
| **TLE (Time Limit Exceeded)** | –†–µ—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ç–µ—Å—Ç–∞—Ö, –Ω–æ –ø–∞–¥–∞–µ—Ç –Ω–∞ –±–æ–ª—å—à–∏—Ö | ‚Ä¢ –ó–∞–º–µ–Ω–∏—Ç—å O(n¬≤) –Ω–∞ O(n log n)<br>‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö<br>‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã |
| **MLE (Memory Limit Exceeded)** | –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏ | ‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö<br>‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö<br>‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –≤–º–µ—Å—Ç–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π |
| **WA (Wrong Answer)** | –†–µ—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö, –Ω–æ –ø–∞–¥–∞–µ—Ç –Ω–∞ —Å–∫—Ä—ã—Ç—ã—Ö —Ç–µ—Å—Ç–∞—Ö | ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—Ä–∞–µ–≤—ã–µ —Å–ª—É—á–∞–∏<br>‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤<br>‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π |

### üîß –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è C++:
```cpp
// 1. –ë—ã—Å—Ç—Ä—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥
ios_base::sync_with_stdio(false);
cin.tie(nullptr);
cout.tie(nullptr);

// 2. –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –¥–ª—è –≤–µ–∫—Ç–æ—Ä–æ–≤
vector<int> v;
v.reserve(n);

// 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–º–µ—Å—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –≤ —Ü–∏–∫–ª–∞—Ö
for (int i = 0; i < n; i++) {
    int x = a[i]; // –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ a[i] –≤ –≥–ª—É–±–æ–∫–∏—Ö —Ü–∏–∫–ª–∞—Ö
}

// 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ü–∏–∫–ª–æ–≤
// –ü–ª–æ—Ö–æ:
for (int i = 0; i < n; i++) {
    for (int j = 0; j < m; j++) {
        // —á—Ç–æ-—Ç–æ —Å grid[i][j]
    }
}

// –•–æ—Ä–æ—à–æ (cache-friendly):
for (int i = 0; i < n; i++) {
    for (int j = 0; j < m; j++) {
        // —á—Ç–æ-—Ç–æ —Å grid[i][j] - –Ω–æ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ!
    }
}
```

## üß† –†–∞–∑–≤–∏—Ç–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–≥–æ –º—ã—à–ª–µ–Ω–∏—è

### üìö –ö–∞–∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ:

1. **–†–µ—à–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ –ø–æ —Ç–µ–º–∞–º, –∞ –Ω–µ —Å–ª—É—á–∞–π–Ω–æ:**
   - –ù–µ–¥–µ–ª—è 1: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ù–µ–¥–µ–ª—è 2: –ì—Ä–∞—Ñ—ã (DFS/BFS)
   - –ù–µ–¥–µ–ª—è 3: –î–µ—Ä–µ–≤—å—è –æ—Ç—Ä–µ–∑–∫–æ–≤
   - –ù–µ–¥–µ–ª—è 4: –°—Ç—Ä–æ–∫–æ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

2. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ä–µ—à–µ–Ω–∏—è:**
   - –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?
   - –ö–∞–∫–æ–≤–∞ –µ–≥–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å?
   - –ö–∞–∫ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å?
   - –ö–∞–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —è –º–æ–≥—É –∑–∞–ø–æ–º–Ω–∏—Ç—å?

3. **–ò–∑—É—á–∞–π—Ç–µ —á—É–∂–∏–µ —Ä–µ—à–µ–Ω–∏—è:**
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏—è —Ç–æ–ø–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ Codeforces
   - –†–∞–∑–±–µ—Ä–∏—Ç–µ, –ø–æ—á–µ–º—É –æ–Ω–∏ –≤—ã–±—Ä–∞–ª–∏ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥
   - –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å—Ç–∏–ª—å –∫–æ–¥–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

4. **–†–µ—à–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ —á—É—Ç—å —Å–ª–æ–∂–Ω–µ–µ –≤–∞—à–µ–≥–æ —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è:**
   - –ï—Å–ª–∏ –ª–µ–≥–∫–æ —Ä–µ—à–∞–µ—Ç–µ –∑–∞–¥–∞—á–∏ 1000 –±–∞–ª–ª–æ–≤ –Ω–∞ Codeforces, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ 1200
   - –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ ‚Äî –∫–ª—é—á –∫ –ø—Ä–æ–≥—Ä–µ—Å—Å—É

### üí° –ú–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤:

| –ê–ª–≥–æ—Ä–∏—Ç–º | –ú–µ–Ω—Ç–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å | –ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å |
|----------|-------------------|----------------|
| **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** | "–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –ø–æ–¥—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –ø–æ–¥–∑–∞–¥–∞—á–∏" | –ö–æ–≥–¥–∞ –∑–∞–¥–∞—á–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏, –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤—Å–µ–π –∑–∞–¥–∞—á–∏ |
| **–ñ–∞–¥–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã** | "–õ–æ–∫–∞–ª—å–Ω–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –≤–µ–¥–µ—Ç –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–º—É" | –ö–æ–≥–¥–∞ –º–æ–∂–Ω–æ –¥–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –∂–∞–¥–Ω—ã–π –≤—ã–±–æ—Ä –±–µ–∑–æ–ø–∞—Å–µ–Ω (–º–∞—Ç—Ä–æ–∏–¥—ã, –∑–∞–¥–∞—á–∏ –æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è—Ö) |
| **–†–∞–∑–¥–µ–ª—è–π –∏ –≤–ª–∞—Å—Ç–≤—É–π** | "–†–∞–∑–±–∏—Ç—å –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —á–∞—Å—Ç–∏, —Ä–µ—à–∏—Ç—å –∫–∞–∂–¥—É—é, –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å" | –ö–æ–≥–¥–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –ø–æ–∏—Å–∫, –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ–ª–∏–Ω–æ–º–æ–≤) |
| **DFS/BFS** | "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π" | –ì—Ä–∞—Ñ—ã, –ø–µ—Ä–µ–±–æ—Ä, –ø–æ–∏—Å–∫ –ø—É—Ç–µ–π, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏ |

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

### üìã –ó–∞–¥–∞—á–∞: "–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ—Å—Ç–æ–≤–Ω–æ–µ –¥–µ—Ä–µ–≤–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º"

**–£—Å–ª–æ–≤–∏–µ:** –î–∞–Ω –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ —Å n –≤–µ—Ä—à–∏–Ω–∞–º–∏ –∏ m —Ä–µ–±—Ä–∞–º–∏. –ö–∞–∂–¥–æ–µ —Ä–µ–±—Ä–æ –∏–º–µ–µ—Ç –≤–µ—Å –∏ —Ü–≤–µ—Ç (–∫—Ä–∞—Å–Ω—ã–π –∏–ª–∏ —Å–∏–Ω–∏–π). –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤–µ—Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –æ—Å—Ç–æ–≤–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–µ –±–æ–ª–µ–µ k –∫—Ä–∞—Å–Ω—ã—Ö —Ä–µ–±–µ—Ä.

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** n ‚â§ 10‚Å¥, m ‚â§ 10‚Åµ, k ‚â§ m

### üîç –®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑
- –≠—Ç–æ –∑–∞–¥–∞—á–∞ –Ω–∞ MST (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ—Å—Ç–æ–≤–Ω–æ–µ –¥–µ—Ä–µ–≤–æ)
- –ï—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–∞—Å–Ω—ã—Ö —Ä–µ–±–µ—Ä
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ö—Ä–∞—Å–∫–∞–ª/–ü—Ä–∏–º –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç —Ü–≤–µ—Ç–∞

### üß© –®–∞–≥ 2: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ì—Ä–∞—Ñ—ã + –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ/–ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫
- –ü–æ—Ö–æ–∂–µ –Ω–∞ –∑–∞–¥–∞—á—É —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–º –ø–æ–∏—Å–∫–æ–º

### üí° –®–∞–≥ 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π
1. **–ù–∞–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥:** –ü–µ—Ä–µ–±—Ä–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –∫—Ä–∞—Å–Ω—ã—Ö —Ä–µ–±–µ—Ä (2^m –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤) ‚Üí –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ
2. **–ò–¥–µ—è 1:** –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –ö—Ä–∞—Å–∫–∞–ª–∞, —á—Ç–æ–±—ã –æ–Ω —É—á–∏—Ç—ã–≤–∞–ª –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–∞—Å–Ω—ã—Ö —Ä–µ–±–µ—Ä ‚Üí —Å–ª–æ–∂–Ω–æ –∏–∑-–∑–∞ –∂–∞–¥–Ω–æ—Å—Ç–∏
3. **–ò–¥–µ—è 2:** –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ "—à—Ç—Ä–∞—Ñ—É" –∑–∞ –∫—Ä–∞—Å–Ω—ã–µ —Ä–µ–±—Ä–∞:
   - –î–æ–±–∞–≤–∏—Ç—å –∫–æ –≤—Å–µ–º –∫—Ä–∞—Å–Ω—ã–º —Ä–µ–±—Ä–∞–º —à—Ç—Ä–∞—Ñ X
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –ö—Ä–∞—Å–∫–∞–ª
   - –ï—Å–ª–∏ –≤ MST –ø–æ–ª—É—á–∏–ª–æ—Å—å ‚â§ k –∫—Ä–∞—Å–Ω—ã—Ö —Ä–µ–±–µ—Ä, —É–≤–µ–ª–∏—á–∏—Ç—å X, –∏–Ω–∞—á–µ —É–º–µ–Ω—å—à–∏—Ç—å
   - –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç–∏: —á–µ–º –±–æ–ª—å—à–µ —à—Ç—Ä–∞—Ñ, —Ç–µ–º –º–µ–Ω—å—à–µ –∫—Ä–∞—Å–Ω—ã—Ö —Ä–µ–±–µ—Ä –≤ MST

### ‚öôÔ∏è –®–∞–≥ 4: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```cpp
struct Edge {
    int u, v, w, color; // color: 0 - —Å–∏–Ω–∏–π, 1 - –∫—Ä–∞—Å–Ω—ã–π
};

bool check(int penalty, int k, const vector<Edge>& edges, int n) {
    // –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –≤–µ—Å–∞: –∫—Ä–∞—Å–Ω—ã–º —Ä–µ–±—Ä–∞–º –¥–æ–±–∞–≤–ª—è–µ–º penalty
    vector<Edge> modified_edges = edges;
    for (auto& e : modified_edges) {
        if (e.color == 1) e.w += penalty;
    }
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º –ö—Ä–∞—Å–∫–∞–ª–∞
    sort(modified_edges.begin(), modified_edges.end(), 
         [](const Edge& a, const Edge& b) { return a.w < b.w; });
    
    DSU dsu(n);
    int red_count = 0;
    ll total_weight = 0;
    
    for (const auto& e : modified_edges) {
        if (dsu.unite(e.u, e.v)) {
            total_weight += e.w;
            if (e.color == 1) red_count++;
            if (dsu.components() == 1) break;
        }
    }
    
    return (red_count <= k && dsu.components() == 1);
}
```

### üß™ –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –¢–µ—Å—Ç 1: n=2, m=2, –æ–¥–Ω–æ –∫—Ä–∞—Å–Ω–æ–µ —Ä–µ–±—Ä–æ –≤–µ—Å–æ–º 1, –æ–¥–Ω–æ —Å–∏–Ω–µ–µ –≤–µ—Å–æ–º 2, k=0 ‚Üí –¥–æ–ª–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Å–∏–Ω–µ–µ
- –¢–µ—Å—Ç 2: k=1 ‚Üí –¥–æ–ª–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∫—Ä–∞—Å–Ω–æ–µ (–¥–µ—à–µ–≤–ª–µ)
- –¢–µ—Å—Ç 3: –ì—Ä–∞—Ñ –Ω–µ—Å–≤—è–∑–Ω—ã–π ‚Üí –¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å -1

### üöÄ –®–∞–≥ 6: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—ã—Å—Ç—Ä—É—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å DSU —Å —Ä–∞–Ω–≥–∞–º–∏ –∏ —Å–∂–∞—Ç–∏–µ–º –ø—É—Ç–µ–π
- –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ penalty –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [-10‚Åπ, 10‚Åπ]

## üåü –ó–∞–∫–ª—é—á–µ–Ω–∏–µ: –ü—É—Ç—å –∫ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤—É

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
1. **–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–Ω–æ—Å—Ç—å:** –†–µ—à–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ –ø–æ —Ç–µ–º–∞–º, –∞ –Ω–µ —Ö–∞–æ—Ç–∏—á–Ω–æ
2. **–ì–ª—É–±–∏–Ω–∞ > –®–∏—Ä–∏–Ω–∞:** –õ—É—á—à–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–Ω—è—Ç—å 10 –∑–∞–¥–∞—á –ø–æ –î–ü, —á–µ–º –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ 50 —Ä–∞–∑–Ω—ã—Ö
3. **–ê–Ω–∞–ª–∏–∑ > –ö–æ–¥–∏–Ω–≥:** 70% –≤—Ä–µ–º–µ–Ω–∏ —Ç—Ä–∞—Ç–∏—Ç—Å—è –Ω–∞ –∞–Ω–∞–ª–∏–∑ –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
4. **–ü—Ä–∞–∫—Ç–∏–∫–∞ —Å —Ä–µ—Ñ–ª–µ–∫—Å–∏–µ–π:** –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ —Å–ø—Ä–æ—Å–∏—Ç–µ —Å–µ–±—è: "–ß—Ç–æ —è —É–∑–Ω–∞–ª –Ω–æ–≤–æ–≥–æ?"

**–ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è –Ω–∞–≤—ã–∫–æ–≤:**
```
–ù–æ–≤–∏—á–æ–∫ (0-6 –º–µ—Å—è—Ü–µ–≤):
  ‚Ä¢ –†–µ—à–∞–µ—Ç –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏ –Ω–∞ –º–∞—Å—Å–∏–≤—ã –∏ —Å—Ç—Ä–æ–∫–∏
  ‚Ä¢ –ó–Ω–∞–∫–æ–º —Å –±–∞–∑–æ–≤—ã–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
  ‚Ä¢ –ú–æ–∂–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å DFS/BFS, –±–∞–∑–æ–≤–æ–µ –î–ü

–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å (6-18 –º–µ—Å—è—Ü–µ–≤):
  ‚Ä¢ –£–≤–µ—Ä–µ–Ω–Ω–æ —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á–∏ —Å—Ä–µ–¥–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  ‚Ä¢ –ó–Ω–∞–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (–¥–µ—Ä–µ–≤—å—è –æ—Ç—Ä–µ–∑–∫–æ–≤, DSU)
  ‚Ä¢ –ú–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –î–ü
  ‚Ä¢ –ü–æ–Ω–∏–º–∞–µ—Ç —Ç–µ–æ—Ä–∏—é –≥—Ä–∞—Ñ–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –ø–æ–∏—Å–∫–∞ –∏ MST

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å (18+ –º–µ—Å—è—Ü–µ–≤):
  ‚Ä¢ –†–µ—à–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ –í–°–û–®
  ‚Ä¢ –°–≤–æ–±–æ–¥–Ω–æ –≤–ª–∞–¥–µ–µ—Ç —Ä–µ–¥–∫–∏–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ (–ø–æ—Ç–æ–∫–∏, –≤—ã–ø—É–∫–ª–∞—è –æ–±–æ–ª–æ—á–∫–∞, —Å—É—Ñ—Ñ–∏–∫—Å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
  ‚Ä¢ –ú–æ–∂–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –ø–æ–¥ –∂–µ—Å—Ç–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
  ‚Ä¢ –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –ø–æ–¥—Ö–æ–¥—ã –¥–ª—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∑–∞–¥–∞—á
```

**–ü–æ—Å–ª–µ–¥–Ω–∏–π —Å–æ–≤–µ—Ç:** –ù–µ –±–æ–π—Ç–µ—Å—å —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á. –ö–∞–∂–¥–∞—è —Ä–µ—à–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –±–∞–ª–ª—ã, –∞ –Ω–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –º—ã—à–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –≤ —Å–≤–æ—é "–±–∏–±–ª–∏–æ—Ç–µ–∫—É –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤". –°–æ –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å –≤–∏–¥–µ—Ç—å –ø–æ–¥–æ–±–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á–∞—Ö –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ.

> "–ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –Ω–µ –≤—Ä–æ–∂–¥–µ–Ω–Ω—ã–π —Ç–∞–ª–∞–Ω—Ç, –∞ –Ω–∞–≤—ã–∫, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é –ø—Ä–∞–∫—Ç–∏–∫—É –∏ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑." ‚Äî –æ–ø—ã—Ç–Ω—ã–π –æ–ª–∏–º–ø–∏–∞–¥–Ω–∏–∫ —Å 10-–ª–µ—Ç–Ω–∏–º —Å—Ç–∞–∂–µ–º